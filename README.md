# Описание проекта

Этот проект - отличное решение для создания адаптивной и кроссбраузерной верстки с использованием Gulp, WebPack и Babel.

## Запуск проекта

Чтобы запустить проект, необходимо склонировать репозиторий с помощью команды `git clone`, установить зависимости с помощью `npm install`, а затем запустить сборщик с помощью команды `$ gulp`. В режиме "production" проект собирается с помощью **определенной** команды (<u>Подробнее см. раздел **Команды**</u>).

## Gulp

Gulp выполняет несколько важных задач для сборки проекта.
Он сжимает HTML и SCSS файлы, добавляет вендорные префиксы, конвертирует шрифты в .ttf и woff/woff2, сжимает изображения и создает "svg cпрайты", запускает сервер с автоматической перезагрузкой окна в браузере при изменении файлов в проекте.

Gulp также очищает папку с финальным проектом перед каждым запуском сборщика, чтобы не собирать мусор. Сборщик также может выгружать финальный проект на хостинг с помощью команды `$ npm run deployFTP`.
Настройки для ftp содержатся в файле `ftp.js` в папке `gulp/config/`

### WebPack

WebPack занимается обработкой файлов c JavaScript и позволяет модульное подключение скриптов. Он также позволяет писать код на ES6+ и сжимает файлы JS в режиме "production".

### Деплой

Для деплоя папки `/dist` на GitHub Pages можно использовать gh-pages. Деплой осуществляется по пути, указанному в `package.json` в поле `homepage`.

## :open_file_folder: Файловая структура

```
Poject
├── dist
│   ├── fonts
│   ├── styles
│   ├── images
│   ├── 404.html
│   ├── page.html
│   ├── index.html
├── gulp
│   ├── config
│   ├── tasks
│   ├── gide
├── src
│   ├── assets
│   │   ├── fonts
│   │   ├── images
│   ├── files
│   ├── html
│   │   ├── components
│   │   │   ├── component
│   │   │   │   ├── component.html
│   │   │   │   ├── component.js
│   │   │   │   ├── component.scss
│   │   ├── views
│   │   │   ├── page-name
│   │   │   │   ├── sections
│   │   │   │   │   ├── section1.html
│   │   │   │   │   ├── section2.html
│   │   │   │   │   ├── section3.html
│   │   │   │   ├── page.html
│   ├── styles
│   │   ├── js
│   │   │   ├── core
│   │   │   │   ├── exports.js
│   │   │   │   ├── variables.js
│   │   ├── pages
│   │   │   ├── page.js
│   │   ├── scss
│   │   │   ├── config
│   │   │   │   ├── base
│   │   │   │   │   ├── _fonts.scss
│   │   │   │   ├── helpers
│   │   │   │   │   ├── _functions.scss
│   │   │   │   │   ├── _mixins.scss
│   │   │   │   │   ├── _variables.scss
│   │   │   │   ├── libs
│   │   │   │   │   ├── _reset.scss
│   │   │   │   │   ├── iconfont.scss
│   │   │   ├── pages
│   │   │   │   ├── page-name
│   │   │   │   │   ├── sections
│   │   │   │   │   │   ├── section1.scss
│   │   │   │   │   │   ├── section2.scss
│   │   │   │   │   │   ├── section3.scss
│   │   │   │   │   ├── page.scss
├── .babelrc
├── .gitignore
├── .eslintrc.json
├── .prettierrc.json
├── gulpfile.js
├── package-lock.json
├── package.json
├── README.md
├── LICENSE
└── webpack.config.js
```

### Описание файловой структуры:

- `dist` - папка, в которой находятся сгенерированные файлы после выполнения задач с помощью Gulp
- `gulp` - папка с конфигурацией задач Gulp, разделенной на config и tasks
- `src` - папка, в которой находятся исходные файлы проекта
- `assets` - папка, в которой находятся шрифты и изображения
- `files` - папка, в которой находятся другие файлы, такие как JSON-файлы \* или XML-файлы
- `styles` - папка, в которой находятся файлы стилей
- `js` - папка, в которой находятся файлы JavaScript, такие как imports.js и main.js
- `scss` - папка, в которой находятся файлы SCSS стилей, разделенных на конфигурационные, вспомогательные, библиотеки, разделы и основной файл main.scss
- `html` - папка, в которой находятся HTML-файлы, разделенные на компоненты, секции и другие страницы (views)
- `components` - папка, в которой находятся файлы HTML, JavaScript и SCSS для компонентов, таких как кнопки, формы и т.д.
- `sections` - папка, в которой находятся файлы для секций
- `views` - папка, в которой находятся HTML-файлы и папки страниц проекта
- `index.html` - основной HTML-файл проекта
- `.babelrc` - конфигурационный файл для Babel, который может использоваться для преобразования кода ECMAScript 2015+ в код, который может работать в браузерах
- `.gitignore` - файл, который говорит Git, какие файлы и папки должны быть проигнорированы при коммите изменений в репозиторий Git
- `gulpfile.js` - файл, в котором находятся задачи Gulp, их конфигурация и запуск

---

## Команды:

<details>
<summary>gulp</summary>

Запускает тестовый сервер для разработки проекта.
</details>

<details>
<summary>gulp build</summary>

Сборка для продакшн, стандартная:

- Минифицирует только css.
- Переносит изображения в папку images **без оптимизации**.
</details>

<details>
<summary>gulp build --max</summary>

Сборка для продакшн, максимальная:

- Минифицирует **css**, **html** и файлы изображений.
- Переносит изображения в папку **images**, **с оптимизацией**.
- Добавляет `.webp` изображения и встраивает их в html при помощи тега `<picture>`.

<span style="color:red">**Внимание!** Изображения сжимаются, но теряют качество.</span>
</details>

<details>
<summary>gulp build --optimized</summary>

Сборка для продакшн, оптимизированная:

- Минифицирует только css.
- Переносит изображения в папку images, **с оптимизацией**.
</details>

<details>
<summary>gulp build --min</summary>

Сборка для продакшн, минимальная:

- Минифицирует только css и html файлы. Всё остальное собирает без вмешательства.
</details>

### Создание файлов страниц:

<details>
<summary>gulp create-page --name page</summary>

- Эта команда позволяет создавать новые страницы для проекта.
- Для использования таска выполните команду `gulp create-page --name page`, где **page** - название страницы.
- Таск создает три файла: `page.html`, `my-component.scss` и `page.js`. Файлы будут созданы в директориях `src/html/views`, `src/html/styles/scss/pages` и `src/html/styles/js/pages`.
</details>

### Создание файлов компонента:

<details>
<summary>gulp create-component --name my-component</summary>

- Эта команда позволяет создавать новые компоненты для проекта.
- Для использования таска необходимо выполнить команду `gulp create-component --name my-component --page page-name`, где **my-component** - имя компонента, а **page-name** - название страницы (нужно для того, чтобы автоматически импортировать файлы компонентов в файлы страницы).
- Таск создает три файла: `my-component.html`, `my-component.scss` и `my-component.js`. Файлы будут созданы в директории `src/html/components`.
- Все импорты теперь добавляются автоматически, scss файлы компонента добавляются в `scss/pages/им

я_страницы.scss`, а js файлы в `js/pages/имя_страницы.js`.
- Важно убедиться, что директория `src/html/components` уже существует, иначе таск не выполнится.
- Если имя компонента не будет указано при вызове команды, то будет выведено сообщение об ошибке "Component name is not provided!" и таск завершится без создания файлов.
- Если имя страницы не будет указано при вызове команды, то компонент будет создан без импортирования файлов компонента в файлы страницы.
</details>

<details>
<summary>gulp create-component --name my-component --page page-name</summary>

- Эта команда позволяет создавать новые компоненты для проекта.
- Для использования таска необходимо выполнить команду `gulp create-component --name my-component --page page-name`, где **my-component** - имя компонента, а **page-name** - название страницы (нужно для того, чтобы автоматически импортировать файлы компонентов в файлы страницы).
- Таск создает три файла: `my-component.html`, `my-component.scss` и `my-component.js`. Файлы будут созданы в директории `src/html/components`.
- Все импорты теперь добавляются автоматически, scss файлы компонента добавляются в `scss/pages/имя_страницы.scss`, а js файлы в `js/pages/имя_страницы.js`.
- Важно убедиться, что директория `src/html/components` уже существует, иначе таск не выполнится.
- Если имя компонента не будет указано при вызове команды, то будет выведено сообщение об ошибке "Component name is not provided!" и таск завершится без создания файлов.
- Если имя страницы не будет указано при вызове команды, то компонент будет создан без импортирования файлов компонента в файлы страницы.
</details>

<details>
<summary>gulp removeEmpty</summary>

Удаляет пустые файлы и папки, из папки `components`.
</details>

---

### Updates:

- 15.06.23 Проведена полная реструктуризация сборки
